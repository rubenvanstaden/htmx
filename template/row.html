{{ block "contacts" . }}

{{ range .Profiles }}
<tr>
    <td><input type="checkbox" name="selected_pubkeys" value="{{ .PubKey }}"></td>
    <td>{{ .Name }}</td>
    <td>{{ .Email }}</td>
    <td>{{ .PubKey }}</td>
    <td>
        <div class="grid">
            <p>
            <a href="/contact/{{ .PubKey }}/edit">Edit</a>
          <p>
            <a href="/contact/{{ .PubKey }}">View</a>
          <p>
            <a href="#" hx-delete="/contact/{{ .PubKey }}"
                hx-swap="outerHTML swap:1s"
                hx-confirm="Are you sure you want to delete this contact?"
                hx-target="closest tr">Delete</a>
          </p>
        </div>
    </td>
</tr>
{{ end }}

{{ if eq (len .Profiles) 10 }}
<tr>
    <td colspan="5" style="text-align: center">
        <span hx-target="closest tr"
                hx-swap="outerHTML"
                hx-select="tbody > tr"
                hx-get="/contact?page={{ add .Page 1 }}">
          Load More
        </span>
    </td>
</tr>
{{ end }}

{{ end }}
